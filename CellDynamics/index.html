<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CellSim: CellSim</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CellSim
   </div>
   <div id="projectbrief">WARNING: Documentation under construction</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CellSim </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p >Cell dynamics simulation code simulating the dynamics of ana?phase.</p>
<p >Normalisations are as follows:</p><ul>
<li>All lengths are in microns (10^-6 m)</li>
<li>All times are in seconds (s)</li>
<li>All masses in picograms (10^-15 kg)</li>
<li>Means Forces are zepto Newtons (10^-21 N)</li>
</ul>
<h1><a class="anchor" id="build_sec"></a>
Building the code</h1>
<p >The code is built using a simple Makefile, and requires C++20 support (widely available). Build targets are:</p><ul>
<li>make (no args)<ul>
<li>Full code build</li>
</ul>
</li>
<li>make testrun<ul>
<li>A test run to check the dynamics of a single MT under a bending force. Exe is CellSim_mt</li>
</ul>
</li>
<li>make endrun<ul>
<li>An idealised setup with exactly 1 KC (regardless of init.txt), attached one side to each spindle point. Exe is CellSim_e2e</li>
</ul>
</li>
<li>MODE=debug Extra output, NO optimisation</li>
<li>MODE=test<ul>
<li>Like debug, but keeps O3 optimisation</li>
</ul>
</li>
<li>FIXED_SEEDS=1<ul>
<li>Use the default seeds, regardless of init.txt</li>
</ul>
</li>
<li>LIMIT_MTS=1<ul>
<li>Debug mode - cap the number of MTs that can be created (in total, not at once), Number is set by parameter in References.h</li>
</ul>
</li>
<li>make tar<ul>
<li>Create tarball of all code files</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="run_sec"></a>
Running the code</h1>
<p >The initial conditions are read from a file, by default init.txt. Supply a filename at the command line to override this.</p>
<p >Parameters of the form "n_" are integers, those of the form "P_" are probabilities and must be in range [0,1] Some parameters have default values. A few are mandatory: namely a one of n_steps and t_end. The available parameters are:</p>
<ul>
<li>"polymerisation_speed" - Speed of Microtubule growth by polymerisation, default <a class="el" href="namespace_m_t_params.html#adc25495b9f31570b49e90c7d14ce252b">MTParams::refPolymerisationVelocity</a></li>
<li>"depolymerisation_speed" Ditto for contraction, default <a class="el" href="namespace_m_t_params.html#adc25495b9f31570b49e90c7d14ce252b">MTParams::refPolymerisationVelocity</a></li>
<li>"MTFieldAlpha" alpha parameter for the distribution of MTs around spindles, default <a class="el" href="namespace_m_t_field.html#a08398587e7c6d3b9dc0e6516dc0b5080">MTField::defaultAlpha</a></li>
<li>"MTFieldCoeff" ditto but combined value of all leading terms, default <a class="el" href="namespace_m_t_field.html#a6d27054ad88ce43ba515e08cb25f1a19">MTField::defaultLeadingTerm</a></li>
<li>"n_steps" number of timesteps to run. Overrides t_end. One of these must be set.</li>
<li>"t_end" end time to run to</li>
<li>"max_timestep" max value for timestep, used for e.g. convergence testing. Default <a class="el" href="namespace_norms.html#a7a82e7719ed737576f18847f220d60a4">Norms::defaultTimestep</a></li>
<li>"n_dumps" number of outputs to produce, default 10</li>
<li>"name" name (prefix string) for output files, can include a path. Default "output"</li>
<li>"n_kcs" Number of <a class="el" href="class_kinetochore.html" title="A single Kinetochore.">Kinetochore</a> pairs to create. Default 1</li>
<li>"n_mts" Number of microtubules at start of simulation (not attached, used for testing). Default is 0</li>
<li>"default_seeds" Flag to use built-in default seeds. Default false. OVERRIDES any seeds set explicitly</li>
<li>"simulation_seed" Seed for simulation setup. If not supplied, will be seeded from random device.</li>
<li>"runtime_seed" Seed for runtime (e.g. attachment, detachment). If not supplied, will be seeded from random device.</li>
<li>"brownian_seed" Seed for all Brownian motion. If not supplied, will be seeded from random device.</li>
<li>"P_attach" <a class="el" href="struct_probability.html" title="A value in range [0,1].">Probability</a> of MT-KC attachment given encounter. Default <a class="el" href="namespace_m_t_field.html#af5055703af8e2c6791125045037a99fd">MTField::defaultP_attach</a></li>
<li>"P_isPoly" <a class="el" href="struct_probability.html" title="A value in range [0,1].">Probability</a> that an MT is polymerising on creation. Default <a class="el" href="namespace_m_t_field.html#a85ceaba1c2ab991b81ad53b2ecf97638">MTField::isPolyProb</a></li>
<li><p class="startli">"P_detach" <a class="el" href="struct_probability.html" title="A value in range [0,1].">Probability</a> of random detachment if running in a mode with the included. Default <a class="el" href="namespace_m_t_field.html#aff25cb2d08cbc1705f29ed31d905c736">MTField::defaultP_detach</a></p>
<p class="startli">NOTE: in testrun and endrun modes, only certain inputs are used, and others will be ignored.</p>
</li>
</ul>
<h1><a class="anchor" id="integ_sec"></a>
Integration scheme</h1>
<p >Integration is first order, with specialised solves for MTs, and KCs. Microtubules are solved as implicit, length constrained ball-rod models, with an anti-bending force and a viscous term. Kinetochores are solved in the high-viscosity limit, balancing the forces against viscosity and assuming rapid acceleration to resulting terminal velocity. Interactions between objects, creation of MTs etc are handled at the end of each integration tick. Implementation note:</p>
<p >Operator splitting is used - some (currently at most 1) force is fully applied, and then all other forces are calculated and applied together in an explicit solver sweep. Thus ALL FORCES MUST HAVE a static const public bool member, 'implicit' which is true if the force should/needs to be operator-split and applied in full (e.g. due to having a more restrictive timestep). Currently, there can be at MOST ONE such force. This force should implement an operator apply(std::vector&lt;ball&gt; &amp;balls, Time dt, Time time) which applies it and implement operator() as a no-op</p>
<p >NOTE: implicit forces are completely independent and must not interact with each other or affect other entities </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
